const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/auth-Bq53jqvI.js","assets/vendor-C0uaCzFa.js","assets/firebase-vendor-CwXsO73q.js","assets/state-vendor-C6akDs4E.js","assets/DashboardPage-CSMr-5jR.js","assets/calendar-GWArlKyz.js","assets/tasks-iRDV-mwZ.js"])))=>i.map(i=>d[i]);
import{r as x,q as w,j as e,F as L,s as E,c as P,L as g,t as R,v as S,H as _,w as p,x as h,y as A,R as C}from"./vendor-C0uaCzFa.js";import{u as b,l as O,L as f,P as T,c as $}from"./auth-Bq53jqvI.js";import{r as z}from"./firebase-vendor-CwXsO73q.js";import{G as y}from"./groups-Bt2yFL_t.js";import{d as F}from"./calendar-GWArlKyz.js";import"./state-vendor-C6akDs4E.js";import"./tasks-iRDV-mwZ.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();const U="modulepreload",D=function(n){return"/todolist-app/"+n},j={},u=function(o,i,l){let r=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),t=a?.nonce||a?.getAttribute("nonce");r=Promise.allSettled(i.map(c=>{if(c=D(c),c in j)return;j[c]=!0;const m=c.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${v}`))return;const d=document.createElement("link");if(d.rel=m?"stylesheet":U,m||(d.as="script"),d.crossOrigin="",d.href=c,t&&d.setAttribute("nonce",t),document.head.appendChild(d),m)return new Promise((N,k)=>{d.addEventListener("load",N),d.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=a,window.dispatchEvent(t),!t.defaultPrevented)throw a}return r.then(a=>{for(const t of a||[])t.status==="rejected"&&s(t.reason);return o().catch(s)})},I=({children:n})=>{const[o,i]=x.useState(!1),{user:l}=b(),r=w(),s=[{name:"Dashboard",href:"/",icon:E},{name:"Tasks",href:"/tasks",icon:P}],a=async()=>{await O()};return e.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsxs("div",{className:`fixed inset-0 z-40 lg:hidden ${o?"":"hidden"}`,children:[e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>i(!1)}),e.jsxs("div",{className:"relative flex w-full max-w-xs flex-1 flex-col bg-white dark:bg-gray-800",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:e.jsx("button",{type:"button",className:"ml-1 flex h-10 w-10 items-center justify-center rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>i(!1),"aria-label":"Đóng menu điều hướng",children:e.jsx(L,{className:"h-6 w-6 text-white"})})}),e.jsxs("div",{className:"h-0 flex-1 overflow-y-auto pt-5 pb-4",children:[e.jsx("div",{className:"flex flex-shrink-0 items-center px-4",children:e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Todo App"})}),e.jsx("nav",{className:"mt-5 space-y-1 px-2",children:s.map(t=>e.jsxs(g,{to:t.href,className:`group flex items-center px-2 py-2 text-base font-medium rounded-md ${r.pathname===t.href?"bg-primary-100 text-primary-900 dark:bg-primary-900 dark:text-primary-100":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white"}`,onClick:()=>i(!1),children:[e.jsx(t.icon,{className:"mr-4 h-6 w-6"}),t.name]},t.name))}),e.jsx("div",{className:"mt-6 px-2",children:e.jsx(y,{})})]})]})]}),e.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:e.jsxs("div",{className:"flex flex-1 flex-col min-h-0 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex flex-1 flex-col pt-5 pb-4 overflow-y-auto",children:[e.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Todo App"})}),e.jsx("nav",{className:"mt-5 px-2 space-y-1",children:s.map(t=>e.jsxs(g,{to:t.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md ${r.pathname===t.href?"bg-primary-100 text-primary-900 dark:bg-primary-900 dark:text-primary-100":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white"}`,children:[e.jsx(t.icon,{className:"mr-3 h-6 w-6"}),t.name]},t.name))}),e.jsx("div",{className:"mt-6 px-2 flex-1",children:e.jsx(y,{})})]}),e.jsx("div",{className:"flex-shrink-0 flex border-t border-gray-200 dark:border-gray-700 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{children:e.jsx(R,{className:"inline-block h-9 w-9 text-gray-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:l?.displayName||l?.email}),e.jsx("button",{onClick:a,className:"text-xs font-medium text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Sign out"})]})]})})]})}),e.jsxs("div",{className:"flex flex-1 flex-col lg:pl-64",children:[e.jsx("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 lg:hidden",children:e.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[e.jsx("button",{type:"button",className:"border-r border-gray-200 px-4 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500 lg:hidden",onClick:()=>i(!0),"aria-label":"Mở menu điều hướng",children:e.jsx(S,{className:"h-6 w-6"})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Todo App"}),e.jsx("div",{className:"flex items-center",children:e.jsx("button",{onClick:a,className:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Sign out"})})]})}),e.jsx("main",{className:"flex-1 overflow-y-auto",children:e.jsx("div",{className:"py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n})})})]})]})},q=x.lazy(()=>u(()=>import("./auth-Bq53jqvI.js").then(n=>n.e),__vite__mapDeps([0,1,2,3]))),M=x.lazy(()=>u(()=>import("./DashboardPage-CSMr-5jR.js"),__vite__mapDeps([4,1,5,3,2,0,6]))),H=x.lazy(()=>u(()=>import("./tasks-iRDV-mwZ.js").then(n=>n.a),__vite__mapDeps([6,1,5,3,2,0])));function V(){const{setUser:n,setLoading:o,loading:i}=b();return x.useEffect(()=>{const l=z($,r=>{n(r?{uid:r.uid,email:r.email,displayName:r.displayName||void 0,photoURL:r.photoURL||void 0}:null),o(!1)});return()=>l()},[n,o]),i?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(f,{})}):e.jsx(_,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(x.Suspense,{fallback:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(f,{size:"lg"})}),children:e.jsxs(p,{children:[e.jsx(h,{path:"/login",element:e.jsx(q,{})}),e.jsx(h,{path:"/*",element:e.jsx(T,{children:e.jsx(I,{children:e.jsx(x.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(f,{size:"lg"})}),children:e.jsxs(p,{children:[e.jsx(h,{path:"/",element:e.jsx(M,{})}),e.jsx(h,{path:"/tasks",element:e.jsx(H,{})})]})})})})})]})}),!1]})})}const B=()=>{console.log("ℹ️ App Check skipped - no reCAPTCHA key provided")};B();A.createRoot(document.getElementById("root")).render(e.jsx(C.StrictMode,{children:e.jsx(F,{children:e.jsx(V,{})})}));
