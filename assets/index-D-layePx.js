const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/auth-B_ilVF6c.js","assets/vendor-DYaN873j.js","assets/firebase-vendor-DEp0eLQq.js","assets/state-vendor-CZdq9nfc.js","assets/DashboardPage-CytDIBzB.js","assets/tasks-ByvsvQFB.js","assets/calendar-BBofz5px.js"])))=>i.map(i=>d[i]);
import{j as e,s as u,a as y,t as j,r as d,v as b,F as v,w as N,c as k,L as h,x as w,y as R,H as L,z as f,A as c,B as _,R as A}from"./vendor-DYaN873j.js";import{_ as m}from"./tasks-ByvsvQFB.js";import{u as p,l as P,L as x,P as S,b as C}from"./auth-B_ilVF6c.js";import{y as T}from"./firebase-vendor-DEp0eLQq.js";import{G as g}from"./groups-B6ZCVm1_.js";import{u as E,a as O,d as $}from"./calendar-BBofz5px.js";import"./state-vendor-CZdq9nfc.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function l(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=l(s);fetch(s.href,r)}})();const F=()=>{const{isRealtimeMode:t,refreshGroups:i,loading:l}=E(),{refreshTasks:n,loading:s}=O(),r=t,o=l||s,a=()=>{i(),n()};return r?e.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 text-sm",children:[e.jsx(u,{className:"w-4 h-4"}),e.jsx("span",{children:"Live updates"})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-amber-600 dark:text-amber-400 text-sm",children:[e.jsx(y,{className:"w-4 h-4"}),e.jsx("span",{children:"Manual refresh mode"})]}),e.jsxs("button",{onClick:a,disabled:o,className:"flex items-center gap-1 px-2 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh data",children:[e.jsx(j,{className:`w-3 h-3 ${o?"animate-spin":""}`}),"Refresh"]})]})},z=({children:t})=>{const[i,l]=d.useState(!1),{user:n}=p(),s=b(),r=[{name:"Dashboard",href:"/",icon:N},{name:"Tasks",href:"/tasks",icon:k}],o=async()=>{await P()};return e.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsxs("div",{className:`fixed inset-0 z-40 lg:hidden ${i?"":"hidden"}`,children:[e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>l(!1)}),e.jsxs("div",{className:"relative flex w-full max-w-xs flex-1 flex-col bg-white dark:bg-gray-800",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:e.jsx("button",{type:"button",className:"ml-1 flex h-10 w-10 items-center justify-center rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>l(!1),"aria-label":"Đóng menu điều hướng",children:e.jsx(v,{className:"h-6 w-6 text-white"})})}),e.jsxs("div",{className:"h-0 flex-1 overflow-y-auto pt-5 pb-4",children:[e.jsx("div",{className:"flex flex-shrink-0 items-center px-4",children:e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Todo App"})}),e.jsx("nav",{className:"mt-5 space-y-1 px-2",children:r.map(a=>e.jsxs(h,{to:a.href,className:`group flex items-center px-2 py-2 text-base font-medium rounded-md ${s.pathname===a.href?"bg-primary-100 text-primary-900 dark:bg-primary-900 dark:text-primary-100":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white"}`,onClick:()=>l(!1),children:[e.jsx(a.icon,{className:"mr-4 h-6 w-6"}),a.name]},a.name))}),e.jsx("div",{className:"mt-6 px-2",children:e.jsx(g,{})})]})]})]}),e.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:e.jsxs("div",{className:"flex flex-1 flex-col min-h-0 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex flex-1 flex-col pt-5 pb-4 overflow-y-auto",children:[e.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Todo App"})}),e.jsx("nav",{className:"mt-5 px-2 space-y-1",children:r.map(a=>e.jsxs(h,{to:a.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md ${s.pathname===a.href?"bg-primary-100 text-primary-900 dark:bg-primary-900 dark:text-primary-100":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white"}`,children:[e.jsx(a.icon,{className:"mr-3 h-6 w-6"}),a.name]},a.name))}),e.jsx("div",{className:"mt-6 px-2 flex-1",children:e.jsx(g,{})})]}),e.jsx("div",{className:"flex-shrink-0 border-t border-gray-200 dark:border-gray-700 p-4",children:e.jsx(F,{})}),e.jsx("div",{className:"flex-shrink-0 flex border-t border-gray-200 dark:border-gray-700 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{children:e.jsx(w,{className:"inline-block h-9 w-9 text-gray-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:n?.displayName||n?.email}),e.jsx("button",{onClick:o,className:"text-xs font-medium text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Sign out"})]})]})})]})}),e.jsxs("div",{className:"flex flex-1 flex-col lg:pl-64",children:[e.jsx("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 lg:hidden",children:e.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[e.jsx("button",{type:"button",className:"border-r border-gray-200 px-4 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500 lg:hidden",onClick:()=>l(!0),"aria-label":"Mở menu điều hướng",children:e.jsx(R,{className:"h-6 w-6"})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Todo App"}),e.jsx("div",{className:"flex items-center",children:e.jsx("button",{onClick:o,className:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Sign out"})})]})}),e.jsx("main",{className:"flex-1 overflow-y-auto",children:e.jsx("div",{className:"py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t})})})]})]})},D=d.lazy(()=>m(()=>import("./auth-B_ilVF6c.js").then(t=>t.e),__vite__mapDeps([0,1,2,3]))),I=d.lazy(()=>m(()=>import("./DashboardPage-CytDIBzB.js"),__vite__mapDeps([4,5,1,6,3,2,0]))),M=d.lazy(()=>m(()=>import("./tasks-ByvsvQFB.js").then(t=>t.b),__vite__mapDeps([5,1,6,3,2,0])));function G(){const{setUser:t,setLoading:i,loading:l}=p();return d.useEffect(()=>{const n=T(C,s=>{t(s?{uid:s.uid,email:s.email,displayName:s.displayName||void 0,photoURL:s.photoURL||void 0}:null),i(!1)});return()=>n()},[t,i]),l?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(x,{})}):e.jsx(L,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(d.Suspense,{fallback:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(x,{size:"lg"})}),children:e.jsxs(f,{children:[e.jsx(c,{path:"/login",element:e.jsx(D,{})}),e.jsx(c,{path:"/*",element:e.jsx(S,{children:e.jsx(z,{children:e.jsx(d.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(x,{size:"lg"})}),children:e.jsxs(f,{children:[e.jsx(c,{path:"/",element:e.jsx(I,{})}),e.jsx(c,{path:"/tasks",element:e.jsx(M,{})})]})})})})})]})}),!1]})})}const H=()=>{console.log("ℹ️ App Check skipped - no reCAPTCHA key provided")};H();_.createRoot(document.getElementById("root")).render(e.jsx(A.StrictMode,{children:e.jsx($,{children:e.jsx(G,{})})}));
