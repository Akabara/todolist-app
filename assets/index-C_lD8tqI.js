const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/auth-VFuffwwi.js","assets/vendor-CvCHbQ4q.js","assets/firebase-vendor-D-WO-jOu.js","assets/state-vendor-BlHBy2Yi.js","assets/DashboardPage-BXNXVYbb.js","assets/calendar-DLKqTPLa.js","assets/tasks-DRXOZlW7.js"])))=>i.map(i=>d[i]);
import{j as e,q as w,a as R,s as L,r as x,t as S,F as E,v as P,c as A,L as g,w as _,x as C,H as $,y as p,z as h,A as T,R as O}from"./vendor-CvCHbQ4q.js";import{u as b,l as F,L as f,P as z,b as M}from"./auth-VFuffwwi.js";import{v as U}from"./firebase-vendor-D-WO-jOu.js";import{G as y}from"./groups-DgWjxc4l.js";import{u as D,a as I,d as q}from"./calendar-DLKqTPLa.js";import"./state-vendor-BlHBy2Yi.js";import"./tasks-DRXOZlW7.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const t of s)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function i(s){const t={};return s.integrity&&(t.integrity=s.integrity),s.referrerPolicy&&(t.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?t.credentials="include":s.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(s){if(s.ep)return;s.ep=!0;const t=i(s);fetch(s.href,t)}})();const G="modulepreload",H=function(n){return"/todolist-app/"+n},j={},u=function(o,i,l){let s=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),r=a?.nonce||a?.getAttribute("nonce");s=Promise.allSettled(i.map(c=>{if(c=H(c),c in j)return;j[c]=!0;const m=c.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${v}`))return;const d=document.createElement("link");if(d.rel=m?"stylesheet":G,m||(d.as="script"),d.crossOrigin="",d.href=c,r&&d.setAttribute("nonce",r),document.head.appendChild(d),m)return new Promise((N,k)=>{d.addEventListener("load",N),d.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})}))}function t(a){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=a,window.dispatchEvent(r),!r.defaultPrevented)throw a}return s.then(a=>{for(const r of a||[])r.status==="rejected"&&t(r.reason);return o().catch(t)})},V=()=>{const{isRealtimeMode:n,refreshGroups:o,loading:i}=D(),{refreshTasks:l,loading:s}=I(),t=n,a=i||s,r=()=>{o(),l()};return t?e.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 text-sm",children:[e.jsx(w,{className:"w-4 h-4"}),e.jsx("span",{children:"Live updates"})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-amber-600 dark:text-amber-400 text-sm",children:[e.jsx(R,{className:"w-4 h-4"}),e.jsx("span",{children:"Manual refresh mode"})]}),e.jsxs("button",{onClick:r,disabled:a,className:"flex items-center gap-1 px-2 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh data",children:[e.jsx(L,{className:`w-3 h-3 ${a?"animate-spin":""}`}),"Refresh"]})]})},B=({children:n})=>{const[o,i]=x.useState(!1),{user:l}=b(),s=S(),t=[{name:"Dashboard",href:"/",icon:P},{name:"Tasks",href:"/tasks",icon:A}],a=async()=>{await F()};return e.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[e.jsxs("div",{className:`fixed inset-0 z-40 lg:hidden ${o?"":"hidden"}`,children:[e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>i(!1)}),e.jsxs("div",{className:"relative flex w-full max-w-xs flex-1 flex-col bg-white dark:bg-gray-800",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:e.jsx("button",{type:"button",className:"ml-1 flex h-10 w-10 items-center justify-center rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>i(!1),"aria-label":"Đóng menu điều hướng",children:e.jsx(E,{className:"h-6 w-6 text-white"})})}),e.jsxs("div",{className:"h-0 flex-1 overflow-y-auto pt-5 pb-4",children:[e.jsx("div",{className:"flex flex-shrink-0 items-center px-4",children:e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Todo App"})}),e.jsx("nav",{className:"mt-5 space-y-1 px-2",children:t.map(r=>e.jsxs(g,{to:r.href,className:`group flex items-center px-2 py-2 text-base font-medium rounded-md ${s.pathname===r.href?"bg-primary-100 text-primary-900 dark:bg-primary-900 dark:text-primary-100":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white"}`,onClick:()=>i(!1),children:[e.jsx(r.icon,{className:"mr-4 h-6 w-6"}),r.name]},r.name))}),e.jsx("div",{className:"mt-6 px-2",children:e.jsx(y,{})})]})]})]}),e.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:e.jsxs("div",{className:"flex flex-1 flex-col min-h-0 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex flex-1 flex-col pt-5 pb-4 overflow-y-auto",children:[e.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Todo App"})}),e.jsx("nav",{className:"mt-5 px-2 space-y-1",children:t.map(r=>e.jsxs(g,{to:r.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md ${s.pathname===r.href?"bg-primary-100 text-primary-900 dark:bg-primary-900 dark:text-primary-100":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white"}`,children:[e.jsx(r.icon,{className:"mr-3 h-6 w-6"}),r.name]},r.name))}),e.jsx("div",{className:"mt-6 px-2 flex-1",children:e.jsx(y,{})})]}),e.jsx("div",{className:"flex-shrink-0 border-t border-gray-200 dark:border-gray-700 p-4",children:e.jsx(V,{})}),e.jsx("div",{className:"flex-shrink-0 flex border-t border-gray-200 dark:border-gray-700 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{children:e.jsx(_,{className:"inline-block h-9 w-9 text-gray-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:l?.displayName||l?.email}),e.jsx("button",{onClick:a,className:"text-xs font-medium text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Sign out"})]})]})})]})}),e.jsxs("div",{className:"flex flex-1 flex-col lg:pl-64",children:[e.jsx("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 lg:hidden",children:e.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[e.jsx("button",{type:"button",className:"border-r border-gray-200 px-4 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500 lg:hidden",onClick:()=>i(!0),"aria-label":"Mở menu điều hướng",children:e.jsx(C,{className:"h-6 w-6"})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Todo App"}),e.jsx("div",{className:"flex items-center",children:e.jsx("button",{onClick:a,className:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Sign out"})})]})}),e.jsx("main",{className:"flex-1 overflow-y-auto",children:e.jsx("div",{className:"py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n})})})]})]})},K=x.lazy(()=>u(()=>import("./auth-VFuffwwi.js").then(n=>n.e),__vite__mapDeps([0,1,2,3]))),W=x.lazy(()=>u(()=>import("./DashboardPage-BXNXVYbb.js"),__vite__mapDeps([4,1,5,3,2,0,6]))),J=x.lazy(()=>u(()=>import("./tasks-DRXOZlW7.js").then(n=>n.a),__vite__mapDeps([6,1,5,3,2,0])));function Q(){const{setUser:n,setLoading:o,loading:i}=b();return x.useEffect(()=>{const l=U(M,s=>{n(s?{uid:s.uid,email:s.email,displayName:s.displayName||void 0,photoURL:s.photoURL||void 0}:null),o(!1)});return()=>l()},[n,o]),i?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(f,{})}):e.jsx($,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(x.Suspense,{fallback:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(f,{size:"lg"})}),children:e.jsxs(p,{children:[e.jsx(h,{path:"/login",element:e.jsx(K,{})}),e.jsx(h,{path:"/*",element:e.jsx(z,{children:e.jsx(B,{children:e.jsx(x.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(f,{size:"lg"})}),children:e.jsxs(p,{children:[e.jsx(h,{path:"/",element:e.jsx(W,{})}),e.jsx(h,{path:"/tasks",element:e.jsx(J,{})})]})})})})})]})}),!1]})})}const X=()=>{console.log("ℹ️ App Check skipped - no reCAPTCHA key provided")};X();T.createRoot(document.getElementById("root")).render(e.jsx(O.StrictMode,{children:e.jsx(q,{children:e.jsx(Q,{})})}));
